# Quiz-API - сервис генерации вопросов для викторины

## Описание:
Сервис наполняет базу данных вопросами англоязычной викторины.

По POST-запросу пользователя сервис обращается на ресурс для англоязычной викторины https://jservice.io, и в базу данных вносится информация о заданном количестве случайных вопросов: 
- текст вопроса викторины;
- текст ответа на вопрос;
- оригинальный id вопроса с сайта https://jservice.io;
- вновь присвоенный id в базе данных;
- время создания вопроса;
- время добавления вопроса в базу данных.

Все вопросы, заносимые в базу данных, уникальны: в случае генерации уже присутствующего экземпляра сервис повторяет запрос до получения нового значения.

По выполнении POST-запроса API выдает информацию о последнем сохраненном вопросе из предыдущего запроса.

## Технологии:
- Python, 
- FastAPI, 
- Docker, 
- Docker-compose, 
- PostgreSQL, 
- SQLAlchemy.

Серверная часть реализована при помощи связки gunicorn-uvicorn с использованием базового слоя tiangolo/uvicorn-gunicorn-fastapi.

## Инструкции по запуску проекта:
- Клонируйте репозиторий на свой компьютер:
```
git clone git@github.com:StrekozJulia/quiz-api.git
```

- Переименуйте содержащийся в репозитории файл .env.example в .env и подставьте необходимые значения переменных окружения (либо оставьте значения по умолчанию, прописанные в файле).

- Запустите сборку docker-контейнеров:
```
docker compose up
```

После разворачивания контейнеров сервис будет доступен для POST-запросов по локальному адресу http://127.0.0.1:8000/generate_quiz/.

## Документация:
Документация проекта доступна по адресам http://127.0.0.1:8000/docs и http://127.0.0.1:8000/docs.

## Доступные запросы к API:

URL: http://127.0.0.1.8000/generate_quiz/
Тип запроса: POST (доступно любому пользователю)
Request body: {"questions_num": integer}
Response: "QuestModel"
{
    "id": integer;
    "question_id": integer;
    "question": string;
    "answer": string;
    "created_at": datetime;
    "added_at": datetime
}


